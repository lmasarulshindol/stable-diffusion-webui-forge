# Stable Diffusion 汎用プロンプトガイドライン

## 概要

このガイドラインは、エロ小説執筆用のキャラクター画像生成における、Stable Diffusion用プロンプトの作成方法と注意点をまとめたものです。

---

## 基本原則

### 1. カップサイズ指定の禁止

**重要:** `B cup`, `C cup`, `A cup`などのカップサイズ指定は**使用禁止**です。

**理由:**
- Stable Diffusionは「cup」という単語をコーヒーカップなどの容器として解釈しやすい
- 意図しないオブジェクト（コーヒーカップ、マグカップなど）が描画される可能性が高い
- 胸のサイズを表現する場合は、以下の代替表現を使用する

**代替表現:**
- `small breasts` - 小さい胸
- `medium breasts` - 中くらいの胸
- `large breasts` - 大きい胸
- `flat chest` - フラットな胸（小学生など）
- `developing breasts` - 発育途中の胸（中学生など）
- `undeveloped body` - 未発達な体
- `petite body` - 華奢な体型

### 2. 年齢に応じた表現

年齢に応じて適切な表現を使用する：

**小学生（6-12歳）:**
- `elementary schoolgirl` / `young girl` / `child`
- `flat chest` / `undeveloped body`
- `childlike face` / `young face`

**中学生（13-15歳）:**
- `middle schoolgirl` / `junior high schoolgirl`
- `small breasts` / `developing breasts` / `developing body`
- `teenage girl` / `adolescent`

**高校生（16-18歳）:**
- `high schoolgirl`
- `small breasts` / `medium breasts` / `developing breasts`
- `teenage girl` / `young woman`

### 3. 体型表現の優先順位

体型を表現する際は、以下の順序で記述する：

1. **年齢・身分** - `elementary schoolgirl`, `middle schoolgirl`など
2. **身長** - `height 152cm`, `short height 135cm`など
3. **体型** - `petite body`, `slim body`, `small body`など
4. **胸のサイズ** - `small breasts`, `flat chest`など（カップサイズは使用しない）
5. **発育段階** - `developing body`, `undeveloped body`など

### 4. 性行為中のシーンにおける男性の体とペニスの描写

**重要:** 体を触られているシーンや挿入シーンなど、性行為中のシーンでは**必ず男性の体やペニスも描写すること**。

**理由:**
- 性行為は二人で行う行為であり、男性の体やペニスを描写することで、よりリアルで臨場感のある画像を生成できる
- 男性の体やペニスを描写することで、シチュエーションがより明確になる

**必須タグ:**

#### 男性の体を描写する場合
- `adult male` - 成人男性
- `male partner` - 男性パートナー
- `male body visible` - 男性の体が見える
- `male torso visible` - 男性の胴体が見える
- `male on top` - 男性が上に（正常位など）
- `tall male` - 背の高い男性
- `height difference` - 身長差

#### ペニスを描写する場合
- `penis visible` / `cock visible` - ペニスが見える
- `erection` / `erect penis` - 勃起
- `penis inside pussy` / `cock inside vagina` - ペニスが膣内に
- `penetration` / `insertion` - 挿入
- `thrusting` - 突き

#### 男性の手を描写する場合
- `male hand visible` - 男性の手が見える
- `male hand touching genitals` - 男性の手が性器に触れている
- `male hand on pussy` - 男性の手が股間に
- `male hand on breasts` - 男性の手が胸に
- `male hands holding legs` - 男性の手が脚を保持
- `male hands on body` - 男性の手が体に

#### 中出しシーンの場合
- `cumming inside` / `ejaculating inside` - 中に射精
- `male cumming` - 男性が射精している

**ネガティブプロンプトに追加:**
- `solo` - 一人
- `alone` - 一人
- `no male` - 男性なし
- `no penis` - ペニスなし
- `no cock` - ペニスなし

**例:**

#### 触られているシーン
```
full body, sitting, middle schoolgirl, 
nude, fully nude, 
male hand touching genitals, male hand on pussy, 
adult male, male body visible, male hand visible, 
anime style, high quality, detailed, best quality, masterpiece
```

#### 挿入シーン
```
full body, lying on back, middle schoolgirl, 
missionary position, being penetrated, 
penis visible, cock visible, erection, 
penis inside pussy, cock inside vagina, 
adult male, male body visible, male on top, 
male torso visible, male hands holding legs, 
anime style, high quality, detailed, best quality, masterpiece
```

#### 中出しシーン
```
full body, lying on back, middle schoolgirl, 
missionary position, being penetrated, 
penis visible, cock visible, erection, 
penis inside pussy, cock inside vagina, 
cumming inside, ejaculating inside, 
cum dripping from pussy, cum leaking from vagina, 
adult male, male body visible, male on top, 
male cumming, 
anime style, high quality, detailed, best quality, masterpiece
```

---

## プロンプト構造

### 基本構造

```
[構図・ポーズ] + [年齢・身分] + [キャラクター名] + [体型・体格] + [顔・髪] + [服装] + [表情・雰囲気] + [品質タグ]
```

### 各セクションの詳細

#### 1. 構図・ポーズ
- `full body` - 全身表示
- `standing` - 立ち姿勢
- `sitting` - 座り姿勢
- `lying` - 横たわっている姿勢
- `close-up` - クローズアップ
- `upper body` - 上半身のみ

#### 2. 年齢・身分
- `elementary schoolgirl` - 小学生
- `middle schoolgirl` / `junior high schoolgirl` - 中学生
- `high schoolgirl` - 高校生
- `young girl` - 若い女の子
- `child` - 子供（小学生向け）

#### 3. 体型・体格
**身長:**
- `height 152cm` - 身長指定
- `short height 135cm` - 低身長指定

**体型:**
- `petite body` - 華奢な体型
- `slim body` - スリムな体型
- `small body` - 小さい体
- `thin body` - 細い体

**胸のサイズ（カップサイズは使用しない）:**
- `flat chest` - フラットな胸
- `small breasts` - 小さい胸
- `medium breasts` - 中くらいの胸
- `large breasts` - 大きい胸

**発育段階:**
- `undeveloped body` - 未発達な体
- `developing body` - 発育途中の体
- `developing breasts` - 発育途中の胸

#### 4. 顔・髪
**髪型:**
- `black long hair` - 黒髪ロング
- `black medium hair` - 黒髪ミディアム
- `black short hair` - 黒髪ショート
- `brown hair` - 茶髪
- `blonde hair` - 金髪
- `ponytail` - ポニーテール
- `twin tails` - ツインテール

**顔:**
- `childlike face` - 童顔
- `gentle face` - 優しい顔立ち
- `cute face` - 可愛らしい顔
- `large eyes` - 大きな瞳
- `black eyes` - 黒い目
- `brown eyes` - 茶色の目

#### 5. 服装
**制服:**
- `school uniform` - 学校の制服
- `elementary school uniform` - 小学校の制服
- `junior high school uniform` - 中学校の制服
- `high school uniform` - 高校の制服
- `sailor uniform` - セーラー服
- `blazer` - ブレザー
- `white blouse` - 白いブラウス
- `navy blue skirt` - 紺色のスカート

**私服:**
- `casual clothes` - カジュアルな服装
- `dress` - ワンピース
- `skirt` - スカート
- `cardigan` - カーディガン
- `knit` - ニット
- `pastel colors` - パステルカラー

**下着:**
- `underwear` - 下着
- `bra` - ブラジャー
- `panties` - パンツ
- `white underwear` - 白い下着
- `pink underwear` - ピンクの下着
- `cute underwear` - 可愛らしい下着
- `frilly underwear` - フリル付き下着
- `lace underwear` - レース付き下着

#### 6. 表情・雰囲気
- `bright smile` - 明るい笑顔
- `soft smile` - 優しい笑顔
- `gentle expression` - 優しい表情
- `cheerful expression` - 元気な表情
- `shy expression` - 恥ずかしそうな表情
- `embarrassed` - 照れた表情
- `blushing` - 赤面
- `shy pose` - 恥ずかしそうなポーズ

#### 7. 品質タグ
- `anime style` - アニメ風
- `high quality` - 高品質
- `detailed` - 詳細
- `best quality` - 最高品質
- `masterpiece` - 傑作
- `8k` - 高解像度
- `detailed face` - 詳細な顔
- `detailed eyes` - 詳細な目
- `detailed hair` - 詳細な髪
- `detailed hands` - 詳細な手
- `detailed fingers` - 詳細な指

---

## ネガティブプロンプト

### 基本ネガティブプロンプト

```
lowres, bad anatomy, bad hands, text, error, missing fingers, 
extra digit, fewer digits, cropped, worst quality, low quality, 
normal quality, jpeg artifacts, signature, watermark, username, blurry, 
bad feet, deformed, ugly, bad proportions, duplicate, morbid, 
mutated, extra limbs, bad body, bad face, bad eyes, 
out of frame, long neck, bad arms, bad legs, 
bad perspective, bad angle, bad lighting, oversaturated, 
underexposed, grainy, pixelated, distorted, blurry, 
bad composition, bad framing, bad proportions
```

### 年齢別の追加ネガティブプロンプト

**小学生の場合:**
```
adult woman, mature body, developed breasts, large breasts, 
high school uniform, middle school uniform
```

**中学生の場合:**
```
adult woman, mature body, large breasts, very large breasts, 
elementary school uniform, high school uniform
```

**高校生の場合:**
```
adult woman, mature body, very large breasts, 
elementary school uniform, middle school uniform
```

### 下着姿の場合の追加ネガティブプロンプト

```
nude, naked, fully nude, topless, bottomless, 
lingerie, sexy underwear, adult underwear
```

---

## 推奨設定

### 基本設定
- **Aspect Ratio:** 2:3 または 3:4（立ち絵向き）
- **Resolution:** 512x768 以上推奨
- **Steps:** 20-30
- **CFG Scale:** 7-9
- **Sampler:** DPM++ 2M Karras または Euler a

### LoRAの活用
- 特定のキャラクターやスタイルのLoRAを組み合わせると効果的
- 年齢や体型に応じたLoRAを使用する

---

## プロンプト作成の手順

### ステップ1: 基本情報の整理
1. 年齢・身分を決定
2. 体型・体格を決定
3. 髪型・顔立ちを決定
4. 服装を決定
5. 表情・雰囲気を決定

### ステップ2: プロンプトの組み立て
1. 構図・ポーズを最初に記述
2. 年齢・身分を記述
3. キャラクター名を記述（ある場合）
4. 体型・体格を記述（カップサイズは使用しない）
5. 顔・髪を記述
6. 服装を記述
7. 表情・雰囲気を記述
8. 品質タグを最後に記述

### ステップ3: ネガティブプロンプトの設定
1. 基本ネガティブプロンプトを使用
2. 年齢に応じた追加ネガティブプロンプトを追加
3. シチュエーションに応じた追加ネガティブプロンプトを追加

### ステップ4: テスト生成
1. まず基本プロンプトで試す
2. 結果を確認し、必要に応じて調整
3. 詳細プロンプトで微調整

---

## よくある間違いと修正方法

### ❌ 間違い例1: カップサイズ指定
```
small breasts B cup  ← 間違い
```
**修正:**
```
small breasts  ← 正しい
```

### ❌ 間違い例2: カップサイズのみ
```
B cup  ← 間違い
```
**修正:**
```
small breasts  ← 正しい
```

### ❌ 間違い例3: 複数のカップサイズ指定
```
small breasts B cup, developing body, B cup  ← 間違い（重複）
```
**修正:**
```
small breasts, developing body  ← 正しい
```

### ✅ 正しい例
```
full body, standing, middle schoolgirl, 
height 152cm, petite body, small breasts, developing body, 
black medium hair, black eyes, gentle face, 
school uniform, white blouse, navy blue skirt, 
soft smile, gentle expression, 
anime style, high quality, detailed, best quality, masterpiece
```

---

## 年齢別プロンプト例

### 小学生の例
```
full body, standing, elementary schoolgirl, young girl, child, 
short height 135cm, petite body, small body, flat chest, undeveloped body, 
black long hair, black eyes, childlike face, bright smile, 
sailor uniform, white blouse, navy blue skirt, white socks, 
cheerful expression, 
anime style, high quality, detailed, best quality, masterpiece
```

### 中学生の例
```
full body, standing, middle schoolgirl, junior high schoolgirl, 
height 152cm, petite body, slim body, small breasts, developing body, 
black medium hair, black eyes, gentle face, soft smile, 
school uniform, blazer or sailor uniform, white blouse, navy blue skirt, 
gentle expression, 
anime style, high quality, detailed, best quality, masterpiece
```

### 高校生の例
```
full body, standing, high schoolgirl, 
height 158cm, slim body, medium breasts, 
black long hair, black eyes, cute face, bright smile, 
school uniform, blazer, white blouse, navy blue skirt, 
cheerful expression, 
anime style, high quality, detailed, best quality, masterpiece
```

---

## 注意事項

1. **カップサイズ指定は絶対に使用しない**
   - `B cup`, `C cup`, `A cup`などの記述は禁止
   - 代わりに`small breasts`, `medium breasts`, `large breasts`を使用

2. **年齢設定の維持**
   - 年齢に応じた適切なタグを使用
   - ネガティブプロンプトで意図しない年齢表現を排除

3. **段階的な生成**
   - まず基本プロンプトで試す
   - 結果を確認してから詳細プロンプトで調整

4. **ネガティブプロンプトの活用**
   - 必ずネガティブプロンプトを使用
   - 年齢やシチュエーションに応じて追加

5. **モデルの選択**
   - NSFW対応のモデルを使用
   - 年齢やスタイルに適したモデルを選択

6. **性行為中のシーンでは男性の体とペニスも描写**
   - 体を触られているシーンや挿入シーンなどでは、必ず男性の体やペニスも描写すること
   - `adult male`, `male body visible`, `penis visible`, `cock visible`などのタグを使用
   - ネガティブプロンプトに`solo`, `alone`, `no male`, `no penis`, `no cock`を追加

---

## まとめ

- **カップサイズ指定は使用禁止** - `B cup`などは使用せず、`small breasts`などの表現を使用
- **年齢に応じた表現** - 小学生、中学生、高校生それぞれに適した表現を使用
- **段階的な生成** - 基本プロンプトから始めて、徐々に詳細化
- **ネガティブプロンプトの活用** - 必ず使用して、意図しない要素を排除
- **性行為中のシーンでは男性の体とペニスも描写** - 体を触られているシーンや挿入シーンなどでは、必ず男性の体やペニスも描写すること

このガイドラインに従うことで、意図した通りのキャラクター画像を生成できるようになります。

